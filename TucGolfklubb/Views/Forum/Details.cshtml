@model TucGolfklubb.Models.Forum

@{
    ViewData["Title"] = "Details";
}

<h1>@Model.Title</h1>
<p>@Model.Description</p>

<h3>Posts</h3>
@if (Model.Posts != null && Model.Posts.Any())
{
    foreach (var post in Model.Posts)
    {
        <div class="post">
            <h4>
                Posted by: @(post.User?.UserName ?? "Unknown")
            </h4>
            <p>@post.Content</p>
            <p>
                Posted on: @post.PostedAt
            </p>
            <a asp-controller="ForumPosts" asp-action="Details" asp-route-id="@post.Id">
                View &amp; Reply
            </a>
        </div>
    }
}
else
{
    <p>No posts yet.</p>
}

<!-- Link to create a new post for this forum -->
<a asp-controller="ForumPosts"
   asp-action="Create"
   asp-route-forumId="@Model.Id"
   class="btn btn-primary">
    Create New Post
</a>

<div>
    <a asp-action="Edit" asp-route-id="@Model.Id">Edit Forum</a> |
    <a asp-action="Index">Back to Forums</a>
</div>