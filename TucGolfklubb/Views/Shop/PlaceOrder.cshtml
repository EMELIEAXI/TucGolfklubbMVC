@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "PlaceOrder";
}
@if (Model == null)
{
    <h1>Varukorg</h1>
    <p>Ingen orderdata tillgänglig.</p>
    return; // Stoppar renderingen av resten av partial-vyn
}

<div class="order-summary">

    <h3>Produkter:</h3>
    @if (Model.OrderItems != null && Model.OrderItems.Any())
    {
        <ul>
            @foreach (var item in Model.OrderItems)
            {
                <li>@item.ProductName - @item.Quantity st - @item.Price kr</li>
            }
        </ul>
        <h2>Ordernummer: @Model.OrderId</h2>
        <p>Beställningsdatum: @Model.OrderDate?.ToShortDateString()</p>
        <p>Total: @Model.TotalPrice.ToString("C")</p>

    }
    else
    {
        <p>Det finns inga produkter i denna beställning.</p>
    }
    <h4>Total: @Model.TotalPrice.ToString("C")</h4>

    @* <h4>Total: @Model.TotalPrice.ToString("C")</h4> *@
    <partial> Här tänker jag typ radioKnappar eller något för att välja betalmedel</partial>
    <form asp-action="PlaceOrder" method="post">
        <button type="submit" class="btn btn-success">Betala och Lägg Order</button>
    </form>
</div>
<div id="orderSummaryContainer"></div>

<script>
    $(document).ready(function() {
        $("#orderSummaryContainer").load("/Order/GetOrderSummary");
    });
</script>
