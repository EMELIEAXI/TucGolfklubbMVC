@model TucGolfklubb.Models.ProductShopViewModel

@{
    Layout = null;
    ViewData["Title"] = "Shopping";
}

<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produkt Shop</title>
    <link rel="stylesheet" href="~/css/productshop.css" asp-append-version="true" />
</head>

<body>
    <div class="top">
        <h1 id="toppen">TUC Golfklubb Shop</h1>
    </div>

    <!-- Header -->
    <div class="header">
        <a asp-controller="ShoppingCart" asp-action="Index">
            <img src="~/images/shopping-cart-728409_1280.webp" style="float:right; width:70px; align-items:center; margin-top:10px;" />
            <span id="cartCount" style="position:absolute; top:40px; right:60px; background-color:royalblue; color:white; border-radius:50%; padding:5px 10px;">
                0
            </span>
        </a>
        <h1>Välkommen till våra produkter</h1>
        <p>Nu kan du handla allt du behöver för ditt golfspel från bekvämligheten av ditt hem. <br>Vår webbplats erbjuder ett brett utbud av golfprodukter till fantastiska priser!</p>
   
    </div>

    <!-- Navigation -->
    <div class="navbar">
        @foreach (var category in Model.Categories)
        {
            <a href="@Url.Action("ProductShop", "Shop", new { categoryId = category.Id })">@category.Name</a>
        }
    </div>

    <!-- Flex content -->
    <div class="main">
        <!-- Endast visa produkter för den valda kategorin -->
        @if (Model.SelectedCategoryId != null)
        {
            var selectedCategory = Model.Categories.FirstOrDefault(c => c.Id == Model.SelectedCategoryId);
            <h2>@selectedCategory?.Name</h2>

            <div class="products">
                @foreach (var product in Model.Products.Where(p => p.CategoryId == Model.SelectedCategoryId))
                {
                    <div class="item">
                        <div class="item_image">
                            <figure>
                                <img src="~/images/@product.Name" alt="@product.Name" class="p-img">
                                <figcaption></figcaption>
                            </figure>
                        </div>
                        <div class="item_info">
                            <h3>@product.Name</h3>
                            <p>@product.Description</p>
                            <p class="text_right">Pris: <del>@product.Price.ToString("C")</del></p>
                            <div class="form">
                                <form class="add-to-cart-form" asp-controller="ShoppingCart" asp-action="AddToCart" method="post">
                                    <input type="hidden" name="productId" value="@product.Id" />
                                    <button type="submit" class="btn btn-primary">Lägg till i varukorg</button>
                                </form>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <p>Vänligen välj en kategori för att visa produkter.</p>
        }
           <div class="regform">
            <fieldset id="orderSummaryContainer">
                <partial name="_OrderSummary" model="Model" />
            </fieldset>
            </div> 
    </div>
</body>
</html>