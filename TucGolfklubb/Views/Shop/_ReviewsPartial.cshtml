@model ProductShopViewModel
@using System.Linq

<div>
    @if (Model.SelectedProduct != null && User.Identity.IsAuthenticated)
    {
        <h4>Lämna en recension</h4>
        <form asp-controller="Review" asp-action="AddReview" method="post">
            <input type="hidden" name="productId" value="@Model.SelectedProduct.Id" />
            <textarea name="comment" placeholder="Skriv din recension här..." required></textarea>
            <select name="rating">
                <option value="1">1 Stjärna</option>
                <option value="2">2 Stjärnor</option>
                <option value="3">3 Stjärnor</option>
                <option value="4">4 Stjärnor</option>
                <option value="5">5 Stjärnor</option>
            </select>
            <button type="submit">Skicka</button>
        </form>
    }
    else
    {
        <p><a href="/Identity/Account/Login">Logga in</a> för att lämna en recension.</p>
    }
</div>